{"ast":null,"code":"var _jsxFileName = \"/Users/nischitapai/Desktop/IR/src/components/feed/posts.js\";\nimport React, { useState, useEffect } from 'react';\nimport sendImg from \"./commentArrow.png\";\nimport sendImg2 from \"./commentArrow2.png\";\nimport imageImg from \"./camera-icon.png\";\nimport \"./posts.css\";\nimport downImg from \"./downArrow.png\";\nimport upImg from \"./upArrow.png\";\nvar login = localStorage.getItem('loggedIn');\nvar userName = localStorage.getItem('username');\n\nfunction Posts(props) {\n  const [comments, setComments] = useState([]);\n  const [showComments, setShowComments] = useState({});\n  const [set1, set1Set] = useState(\"false\");\n  const [sendComment, setSendComment] = useState(\"\");\n\n  function commentsOff() {\n    var temp = {};\n    props.posts.map(ele => {\n      var x = ele.username + ele.date;\n      temp[x] = \"off\";\n    });\n    return temp;\n  }\n\n  function commentsOff2() {\n    var temp = {};\n    props.posts.map(ele => {\n      var x = ele.username + ele.date;\n      temp[x] = \"off\";\n    });\n    setShowComments(temp);\n  }\n\n  function callComments() {\n    if (set1 === \"false\") {\n      setShowComments(commentsOff());\n      set1Set(\"true\");\n    }\n  }\n\n  async function storeComments(username, date) {\n    console.log(username + \" \" + date + \" \" + userName + \" \" + sendComment);\n    const response = await fetch('/store-comments', {\n      method: \"POST\",\n      headers: {\n        'Content-type': 'application/json'\n      },\n      body: JSON.stringify({\n        username: username,\n        date: date,\n        commentator: userName,\n        comment: sendComment\n      })\n    });\n    const json = await response.json();\n    setComments(json[0]);\n    setSendComment(\"\");\n  }\n\n  async function fetchComments(username, date) {\n    console.log(showComments);\n    var temp = commentsOff();\n    var query = username + date;\n    temp[query] = \"on\";\n    setShowComments(temp);\n    const response = await fetch('/fetch-comments', {\n      method: \"POST\",\n      headers: {\n        'Content-type': 'application/json'\n      },\n      body: JSON.stringify({\n        username: username,\n        date: date\n      })\n    });\n    const json = await response.json();\n    setComments(json[0]);\n  }\n\n  function convertDateTime(time) {\n    var hour = parseInt(time.slice(0, 2));\n    var minute = time.slice(3, 5);\n\n    if (hour >= 12) {\n      if (hour === 12) return hour.toString() + \":\" + minute + \" PM\";\n      return (hour - 12).toString() + \":\" + minute + \" PM\";\n    } else {\n      return hour.toString() + \":\" + minute + \" AM\";\n    }\n  }\n\n  function textAreaChange(event) {\n    event.persist();\n    setSendComment(event.target.value);\n  }\n\n  useEffect(() => {}, [showComments]);\n  useEffect(() => {}, [set1]);\n  useEffect(() => {}, [comments]);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 3\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 4\n    }\n  }, /*#__PURE__*/React.createElement(React.Fragment, null, callComments())), props.posts.map(ele => /*#__PURE__*/React.createElement(\"div\", {\n    className: \"dib shadow-5 post-card\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"image-user-post col-xs-1 col-sm-1 col-md-1 col-lg-1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 8\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    className: \"user4\",\n    src: ele.userImg,\n    alt: \"img\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 15\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-xs-11 col-sm-11 col-md-11 col-lg-11\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    className: \"feed-username\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 15\n    }\n  }, ele.username), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"feed-date\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 15\n    }\n  }, ele.date.slice(0, 5) + \" \" + convertDateTime(ele.date.slice(11, 16))))), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"hr\", {\n    style: {\n      marginTop: \"9.5%\"\n    },\n    className: \"fancy-line-feed\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    style: ele.img === \"\" ? null : {\n      minHeight: \"400px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 13\n    }\n  }, ele.img === \"\" ? null : /*#__PURE__*/React.createElement(\"img\", {\n    className: \"shadow-5 post-image\",\n    src: ele.img,\n    alt: \"img\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 37\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    className: \"feed-text\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 15\n    }\n  }, ele.text))), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"hr\", {\n    style: {\n      marginBottom: \"2.5%\"\n    },\n    className: \"fancy-line-feed\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 11\n    }\n  }, showComments[ele.username + ele.date] === \"off\" ? /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      paddingBottom: \"2%\"\n    },\n    className: \"comment-heading tc\",\n    onClick: () => fetchComments(ele.username, ele.date),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 8\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    style: {\n      fontSize: \"1.3em\",\n      display: \"inline\",\n      margin: \"0\"\n    },\n    className: \"tc dark-gray\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 9\n    }\n  }, \"Comments\"), /*#__PURE__*/React.createElement(\"img\", {\n    style: {\n      opacity: \"0.85\",\n      marginTop: \"0%\",\n      width: \"2%\",\n      height: \"2%\",\n      marginLeft: \"1%\",\n      marginBottom: \"-0.4%\"\n    },\n    src: downImg,\n    alt: \"img\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 9\n    }\n  })) : /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 8\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      paddingBottom: \"2%\"\n    },\n    className: \"comment-heading tc\",\n    onClick: commentsOff2,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    style: {\n      fontSize: \"1.3em\",\n      display: \"inline\",\n      margin: \"0\"\n    },\n    className: \"tc dark-gray\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 10\n    }\n  }, \"Comments\"), /*#__PURE__*/React.createElement(\"img\", {\n    style: {\n      opacity: \"0.85\",\n      marginTop: \"0%\",\n      width: \"2%\",\n      height: \"2%\",\n      marginLeft: \"1%\",\n      marginBottom: \"-0.4%\"\n    },\n    src: upImg,\n    alt: \"img\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 10\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      marginLeft: \"2%\",\n      paddingTop: \"1%\",\n      width: \"100%\"\n    },\n    className: \"dib\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 9\n    }\n  }, props.hide === \"false\" ? /*#__PURE__*/React.createElement(\"form\", {\n    action: \"javascript:void(0);\",\n    onSubmit: () => storeComments(ele.username, ele.date),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 36\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"image-user-comment col-xs-1 col-sm-1 col-md-1 col-lg-1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    className: \"user4\",\n    src: props.image,\n    alt: \"img\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 83\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      paddingLeft: \"0\"\n    },\n    className: \"col-xs-10 col-sm-10 col-md-10 col-lg-10\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    onChange: textAreaChange,\n    className: \"comment-textarea\",\n    name: \"Text1\",\n    placeholder: \"Write a comment..\",\n    value: sendComment,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 12\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-xs-1 col-sm-1 col-md-1 col-lg-1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    className: \"sendImage-user-comment\",\n    type: \"image\",\n    src: sendImg,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 12\n    }\n  }))) : null), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      marginBottom: \"2%\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 9\n    }\n  }, comments.map(ele2 => /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    className: \"comment-username\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 12\n    }\n  }, ele2.username), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"comment-text\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 19\n    }\n  }, ele2.comment), ele2 !== comments[comments.length - 1] ? /*#__PURE__*/React.createElement(\"hr\", {\n    style: {\n      marginBottom: \"1.2%\",\n      marginTop: \"1.2%\"\n    },\n    className: \"fancy-line-feed\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 52\n    }\n  }) : null))))))));\n}\n\nexport default Posts;","map":{"version":3,"sources":["/Users/nischitapai/Desktop/IR/src/components/feed/posts.js"],"names":["React","useState","useEffect","sendImg","sendImg2","imageImg","downImg","upImg","login","localStorage","getItem","userName","Posts","props","comments","setComments","showComments","setShowComments","set1","set1Set","sendComment","setSendComment","commentsOff","temp","posts","map","ele","x","username","date","commentsOff2","callComments","storeComments","console","log","response","fetch","method","headers","body","JSON","stringify","commentator","comment","json","fetchComments","query","convertDateTime","time","hour","parseInt","slice","minute","toString","textAreaChange","event","persist","target","value","userImg","marginTop","img","minHeight","text","marginBottom","paddingBottom","fontSize","display","margin","opacity","width","height","marginLeft","paddingTop","hide","image","paddingLeft","ele2","length"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport sendImg from \"./commentArrow.png\";\nimport sendImg2 from \"./commentArrow2.png\";\nimport imageImg from \"./camera-icon.png\";\nimport \"./posts.css\";\nimport downImg from \"./downArrow.png\";\nimport upImg from \"./upArrow.png\";\n\nvar login = localStorage.getItem('loggedIn');\nvar userName = localStorage.getItem('username');\n\nfunction Posts(props) {\n\n\tconst [comments, setComments] = useState([]);\n\tconst [showComments, setShowComments] = useState({});\n\tconst [set1, set1Set] = useState(\"false\");\n\tconst [sendComment, setSendComment] = useState(\"\");\n\n\tfunction commentsOff(){\n\t\tvar temp = {};\n\t\tprops.posts.map(ele => {\n\t\t\tvar x = ele.username + ele.date;\n\t\t\ttemp[x] = \"off\";\n\t\t})\n\t\t return temp;\n\t}\n\n\tfunction commentsOff2(){\n\t\tvar temp = {};\n\t\tprops.posts.map(ele => {\n\t\t\tvar x = ele.username + ele.date;\n\t\t\ttemp[x] = \"off\";\n\t\t})\n\t\t setShowComments(temp);\n\t}\n\n\tfunction callComments(){\n\t\tif(set1 === \"false\"){\n\t\t\tsetShowComments(commentsOff());\n\t\t\tset1Set(\"true\");\n\t\t}\n\t}\n\n\tasync function storeComments(username, date){\n\n\t\tconsole.log(username + \" \" + date + \" \" + userName + \" \" + sendComment);\n\t\tconst response = await fetch('/store-comments', {\n\t\t method: \"POST\",\n\t\t headers: {\n\t\t\t 'Content-type': 'application/json'\n\t\t },\n\t\t body: JSON.stringify({username:username, date:date, commentator:userName,comment:sendComment}),\n\t\t});\n\n\t\tconst json = await response.json();\n\t\tsetComments(json[0]);\n\t\tsetSendComment(\"\");\n\t}\n\n\tasync function fetchComments(username, date){\n\t\tconsole.log(showComments);\n\t\tvar temp = commentsOff();\n\t\tvar query = username + date;\n\n\t\ttemp[query] = \"on\";\n\t\tsetShowComments(temp);\n\n\t\tconst response = await fetch('/fetch-comments', {\n\t\t method: \"POST\",\n\t\t headers: {\n\t\t\t 'Content-type': 'application/json'\n\t\t },\n\t\t body: JSON.stringify({username:username, date:date}),\n\t\t});\n\n\t\tconst json = await response.json();\n\t\tsetComments(json[0]);\n\t}\n\n\tfunction convertDateTime(time){\n\n\t\tvar hour = parseInt(time.slice(0,2));\n\t\tvar minute = time.slice(3,5);\n\n\t\tif(hour >= 12){\n\t\t\tif(hour === 12) return (hour).toString() + \":\" + minute + \" PM\";\n\t\t\treturn (hour-12).toString() + \":\" + minute + \" PM\";\n\t\t}\n\t\telse{\n\t\t\treturn (hour).toString() + \":\" + minute + \" AM\";\n\t\t}\n\t}\n\n\tfunction textAreaChange(event){\n\t\tevent.persist();\n\t\tsetSendComment(event.target.value);\n\t}\n\n\tuseEffect(() => {}, [showComments]);\n\tuseEffect(() => {}, [set1]);\n\tuseEffect(() => {}, [comments]);\n\n\treturn (\n\t\t<div>\n\t\t\t<div>{<>{callComments()}</>}</div>\n\t\t\t{props.posts.map(ele => (\n        <div className='dib shadow-5 post-card'>\n          <div>\n  \t\t\t\t\t<div className=\"image-user-post col-xs-1 col-sm-1 col-md-1 col-lg-1\">\n              <img className= \"user4\" src={ele.userImg} alt=\"img\"/>\n            </div>\n            <div className=\"col-xs-11 col-sm-11 col-md-11 col-lg-11\">\n              <p className=\"feed-username\">{ele.username}</p>\n              <p className=\"feed-date\">{ele.date.slice(0,5) + \" \" + convertDateTime(ele.date.slice(11,16))}</p>\n            </div>\n          </div>\n          <div>\n            <hr style={{marginTop:\"9.5%\"}} className=\"fancy-line-feed\"/>\n          </div>\n          <div style={ele.img===\"\" ? null : {minHeight:\"400px\"}}>\n            <div>\n              {ele.img===\"\" ? null: <img className=\"shadow-5 post-image\" src={ele.img} alt=\"img\"/>}\n            </div>\n            <div>\n              <p className=\"feed-text\">{ele.text}</p>\n            </div>\n          </div>\n          <div>\n            <hr style={{marginBottom:\"2.5%\"}} className=\"fancy-line-feed\"/>\n          </div>\n          <div>\n            {showComments[ele.username + ele.date] === \"off\" ?\n\t\t\t\t\t\t\t<div style={{paddingBottom:\"2%\"}} className=\"comment-heading tc\" onClick={() => fetchComments(ele.username, ele.date)}>\n\t\t\t\t\t\t\t\t<h3 style={{fontSize:\"1.3em\",display:\"inline\",margin:\"0\"}} className=\"tc dark-gray\">Comments</h3>\n\t\t\t\t\t\t\t\t<img style={{opacity:\"0.85\",marginTop:\"0%\", width:\"2%\", height:\"2%\", marginLeft:\"1%\",marginBottom:\"-0.4%\"}} src={downImg} alt=\"img\"/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t:\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<div style={{paddingBottom:\"2%\"}} className=\"comment-heading tc\" onClick={commentsOff2}>\n\t\t\t\t\t\t\t\t\t<h3 style={{fontSize:\"1.3em\",display:\"inline\",margin:\"0\"}} className=\"tc dark-gray\">Comments</h3>\n\t\t\t\t\t\t\t\t\t<img style={{opacity:\"0.85\",marginTop:\"0%\", width:\"2%\", height:\"2%\", marginLeft:\"1%\",marginBottom:\"-0.4%\"}} src={upImg} alt=\"img\"/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div style={{marginLeft:\"2%\",paddingTop:\"1%\", width:\"100%\"}} className='dib'>\n\t\t\t\t\t\t\t\t\t{props.hide === \"false\" ? <form action=\"javascript:void(0);\" onSubmit={() => storeComments(ele.username, ele.date)}>\n\t\t\t\t\t\t\t\t\t\t<div className=\"image-user-comment col-xs-1 col-sm-1 col-md-1 col-lg-1\"><img className= \"user4\" src={props.image} alt=\"img\"/></div>\n\t\t\t\t\t\t\t\t\t\t<div style={{paddingLeft:\"0\"}} className=\"col-xs-10 col-sm-10 col-md-10 col-lg-10\">\n\t\t\t\t\t\t\t\t\t\t\t<input type=\"text\" onChange={textAreaChange} className=\"comment-textarea\" name=\"Text1\" placeholder=\"Write a comment..\" value={sendComment}/>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<div className=\"col-xs-1 col-sm-1 col-md-1 col-lg-1\">\n\t\t\t\t\t\t\t\t\t\t\t<input className=\"sendImage-user-comment\" type=\"image\" src={sendImg}/>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</form>:null}\n\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t<div style={{marginBottom:\"2%\"}}>\n\t\t\t\t\t\t\t\t\t{comments.map(ele2 => (\n\t\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t\t<h2 className=\"comment-username\">{ele2.username}</h2>\n\t\t\t\t              <p className=\"comment-text\">{ele2.comment}</p>\n\t\t\t\t\t\t\t\t\t\t\t{ele2 !== comments[comments.length-1] ? <hr style={{marginBottom:\"1.2%\",marginTop:\"1.2%\"}} className=\"fancy-line-feed\"/> : null}\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t}\n          </div>\n\t\t\t  </div>))}\n\t\t</div>\n\t)\n}\n\nexport default Posts;\n"]},"metadata":{},"sourceType":"module"}