{"ast":null,"code":"var _jsxFileName = \"/Users/tazeen/Desktop/IR/src/components/feed/posts.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport sendImg from \"./commentArrow.png\";\nimport sendImg2 from \"./commentArrow2.png\";\nimport imageImg from \"./camera-icon.png\";\nimport \"./posts.css\";\nimport downImg from \"./downArrow.png\";\nimport upImg from \"./upArrow.png\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar login = localStorage.getItem('loggedIn');\nvar userName = localStorage.getItem('username');\n\nfunction Posts(props) {\n  _s();\n\n  const [comments, setComments] = useState([]);\n  const [showComments, setShowComments] = useState({});\n  const [set1, set1Set] = useState(\"false\");\n  const [sendComment, setSendComment] = useState(\"\");\n\n  function commentsOff() {\n    var temp = {};\n    props.posts.map(ele => {\n      var x = ele.username + ele.date;\n      temp[x] = \"off\";\n    });\n    return temp;\n  }\n\n  function commentsOff2() {\n    var temp = {};\n    props.posts.map(ele => {\n      var x = ele.username + ele.date;\n      temp[x] = \"off\";\n    });\n    setShowComments(temp);\n  }\n\n  function callComments() {\n    if (set1 === \"false\") {\n      setShowComments(commentsOff());\n      set1Set(\"true\");\n    }\n  }\n\n  async function storeComments(username, date) {\n    console.log(username + \" \" + date + \" \" + userName + \" \" + sendComment);\n    const response = await fetch('/store-comments', {\n      method: \"POST\",\n      headers: {\n        'Content-type': 'application/json'\n      },\n      body: JSON.stringify({\n        username: username,\n        date: date,\n        commentator: userName,\n        comment: sendComment\n      })\n    });\n    const json = await response.json();\n    setComments(json[0]);\n    setSendComment(\"\");\n  }\n\n  async function fetchComments(username, date) {\n    console.log(showComments);\n    var temp = commentsOff();\n    var query = username + date;\n    temp[query] = \"on\";\n    setShowComments(temp);\n    const response = await fetch('/fetch-comments', {\n      method: \"POST\",\n      headers: {\n        'Content-type': 'application/json'\n      },\n      body: JSON.stringify({\n        username: username,\n        date: date\n      })\n    });\n    const json = await response.json();\n    setComments(json[0]);\n  }\n\n  function convertDateTime(time) {\n    var hour = parseInt(time.slice(0, 2));\n    var minute = time.slice(3, 5);\n\n    if (hour >= 12) {\n      if (hour === 12) return hour.toString() + \":\" + minute + \" PM\";\n      return (hour - 12).toString() + \":\" + minute + \" PM\";\n    } else {\n      return hour.toString() + \":\" + minute + \" AM\";\n    }\n  }\n\n  function textAreaChange(event) {\n    event.persist();\n    setSendComment(event.target.value);\n  }\n\n  useEffect(() => {}, [showComments]);\n  useEffect(() => {}, [set1]);\n  useEffect(() => {}, [comments]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: callComments()\n      }, void 0, false)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 4\n    }, this), props.posts.map(ele => /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"dib shadow-5 post-card\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"image-user-post col-xs-1 col-sm-1 col-md-1 col-lg-1\",\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            className: \"user4\",\n            src: ele.userImg,\n            alt: \"img\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 110,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 8\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-xs-11 col-sm-11 col-md-11 col-lg-11\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"feed-username\",\n            children: ele.username\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 113,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"feed-date\",\n            children: ele.date.slice(0, 5) + \" \" + convertDateTime(ele.date.slice(11, 16))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 114,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"hr\", {\n          style: {\n            marginTop: \"9.5%\"\n          },\n          className: \"fancy-line-feed\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: ele.img === \"\" ? null : {\n          minHeight: \"400px\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: ele.img === \"\" ? null : /*#__PURE__*/_jsxDEV(\"img\", {\n            className: \"shadow-5 post-image\",\n            src: ele.img,\n            alt: \"img\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 122,\n            columnNumber: 37\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 121,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"feed-text\",\n            children: ele.text\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 125,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 124,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"hr\", {\n          style: {\n            marginBottom: \"2.5%\"\n          },\n          className: \"fancy-line-feed\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 129,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: showComments[ele.username + ele.date] === \"off\" ? /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            paddingBottom: \"2%\"\n          },\n          className: \"comment-heading tc\",\n          onClick: () => fetchComments(ele.username, ele.date),\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            style: {\n              fontSize: \"1.3em\",\n              display: \"inline\",\n              margin: \"0\"\n            },\n            className: \"tc dark-gray\",\n            children: \"Comments\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 134,\n            columnNumber: 9\n          }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n            style: {\n              opacity: \"0.85\",\n              marginTop: \"0%\",\n              width: \"2%\",\n              height: \"2%\",\n              marginLeft: \"1%\",\n              marginBottom: \"-0.4%\"\n            },\n            src: downImg,\n            alt: \"img\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 135,\n            columnNumber: 9\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 133,\n          columnNumber: 8\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              paddingBottom: \"2%\"\n            },\n            className: \"comment-heading tc\",\n            onClick: commentsOff2,\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              style: {\n                fontSize: \"1.3em\",\n                display: \"inline\",\n                margin: \"0\"\n              },\n              className: \"tc dark-gray\",\n              children: \"Comments\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 140,\n              columnNumber: 10\n            }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n              style: {\n                opacity: \"0.85\",\n                marginTop: \"0%\",\n                width: \"2%\",\n                height: \"2%\",\n                marginLeft: \"1%\",\n                marginBottom: \"-0.4%\"\n              },\n              src: upImg,\n              alt: \"img\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 141,\n              columnNumber: 10\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 139,\n            columnNumber: 9\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              marginLeft: \"2%\",\n              paddingTop: \"1%\",\n              width: \"100%\"\n            },\n            className: \"dib\",\n            children: props.hide === \"false\" ? /*#__PURE__*/_jsxDEV(\"form\", {\n              action: \"javascript:void(0);\",\n              onSubmit: () => storeComments(ele.username, ele.date),\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"image-user-comment col-xs-1 col-sm-1 col-md-1 col-lg-1\",\n                children: /*#__PURE__*/_jsxDEV(\"img\", {\n                  className: \"user4\",\n                  src: props.image,\n                  alt: \"img\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 145,\n                  columnNumber: 83\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 145,\n                columnNumber: 11\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  paddingLeft: \"0\"\n                },\n                className: \"col-xs-10 col-sm-10 col-md-10 col-lg-10\",\n                children: /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"text\",\n                  onChange: textAreaChange,\n                  className: \"comment-textarea\",\n                  name: \"Text1\",\n                  placeholder: \"Write a comment..\",\n                  value: sendComment\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 147,\n                  columnNumber: 12\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 146,\n                columnNumber: 11\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"col-xs-1 col-sm-1 col-md-1 col-lg-1\",\n                children: /*#__PURE__*/_jsxDEV(\"input\", {\n                  className: \"sendImage-user-comment\",\n                  type: \"image\",\n                  src: sendImg\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 150,\n                  columnNumber: 12\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 149,\n                columnNumber: 11\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 144,\n              columnNumber: 36\n            }, this) : null\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 143,\n            columnNumber: 9\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              marginBottom: \"2%\"\n            },\n            children: comments.map(ele2 => /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n                className: \"comment-username\",\n                children: ele2.username\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 158,\n                columnNumber: 12\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"comment-text\",\n                children: ele2.comment\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 159,\n                columnNumber: 19\n              }, this), ele2 !== comments[comments.length - 1] ? /*#__PURE__*/_jsxDEV(\"hr\", {\n                style: {\n                  marginBottom: \"1.2%\",\n                  marginTop: \"1.2%\"\n                },\n                className: \"fancy-line-feed\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 160,\n                columnNumber: 52\n              }, this) : null]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 157,\n              columnNumber: 11\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 155,\n            columnNumber: 9\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 138,\n          columnNumber: 8\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 9\n    }, this))]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 104,\n    columnNumber: 3\n  }, this);\n}\n\n_s(Posts, \"oLmwltHdz2/LgBS0KtKMdc5Uea4=\");\n\n_c = Posts;\nexport default Posts;\n\nvar _c;\n\n$RefreshReg$(_c, \"Posts\");","map":{"version":3,"sources":["/Users/tazeen/Desktop/IR/src/components/feed/posts.js"],"names":["React","useState","useEffect","sendImg","sendImg2","imageImg","downImg","upImg","login","localStorage","getItem","userName","Posts","props","comments","setComments","showComments","setShowComments","set1","set1Set","sendComment","setSendComment","commentsOff","temp","posts","map","ele","x","username","date","commentsOff2","callComments","storeComments","console","log","response","fetch","method","headers","body","JSON","stringify","commentator","comment","json","fetchComments","query","convertDateTime","time","hour","parseInt","slice","minute","toString","textAreaChange","event","persist","target","value","userImg","marginTop","img","minHeight","text","marginBottom","paddingBottom","fontSize","display","margin","opacity","width","height","marginLeft","paddingTop","hide","image","paddingLeft","ele2","length"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport sendImg from \"./commentArrow.png\";\nimport sendImg2 from \"./commentArrow2.png\";\nimport imageImg from \"./camera-icon.png\";\nimport \"./posts.css\";\nimport downImg from \"./downArrow.png\";\nimport upImg from \"./upArrow.png\";\n\nvar login = localStorage.getItem('loggedIn');\nvar userName = localStorage.getItem('username');\n\nfunction Posts(props) {\n\n\tconst [comments, setComments] = useState([]);\n\tconst [showComments, setShowComments] = useState({});\n\tconst [set1, set1Set] = useState(\"false\");\n\tconst [sendComment, setSendComment] = useState(\"\");\n\n\tfunction commentsOff(){\n\t\tvar temp = {};\n\t\tprops.posts.map(ele => {\n\t\t\tvar x = ele.username + ele.date;\n\t\t\ttemp[x] = \"off\";\n\t\t})\n\t\t return temp;\n\t}\n\n\tfunction commentsOff2(){\n\t\tvar temp = {};\n\t\tprops.posts.map(ele => {\n\t\t\tvar x = ele.username + ele.date;\n\t\t\ttemp[x] = \"off\";\n\t\t})\n\t\t setShowComments(temp);\n\t}\n\n\tfunction callComments(){\n\t\tif(set1 === \"false\"){\n\t\t\tsetShowComments(commentsOff());\n\t\t\tset1Set(\"true\");\n\t\t}\n\t}\n\n\tasync function storeComments(username, date){\n\n\t\tconsole.log(username + \" \" + date + \" \" + userName + \" \" + sendComment);\n\t\tconst response = await fetch('/store-comments', {\n\t\t method: \"POST\",\n\t\t headers: {\n\t\t\t 'Content-type': 'application/json'\n\t\t },\n\t\t body: JSON.stringify({username:username, date:date, commentator:userName,comment:sendComment}),\n\t\t});\n\n\t\tconst json = await response.json();\n\t\tsetComments(json[0]);\n\t\tsetSendComment(\"\");\n\t}\n\n\tasync function fetchComments(username, date){\n\t\tconsole.log(showComments);\n\t\tvar temp = commentsOff();\n\t\tvar query = username + date;\n\n\t\ttemp[query] = \"on\";\n\t\tsetShowComments(temp);\n\n\t\tconst response = await fetch('/fetch-comments', {\n\t\t method: \"POST\",\n\t\t headers: {\n\t\t\t 'Content-type': 'application/json'\n\t\t },\n\t\t body: JSON.stringify({username:username, date:date}),\n\t\t});\n\n\t\tconst json = await response.json();\n\t\tsetComments(json[0]);\n\t}\n\n\tfunction convertDateTime(time){\n\n\t\tvar hour = parseInt(time.slice(0,2));\n\t\tvar minute = time.slice(3,5);\n\n\t\tif(hour >= 12){\n\t\t\tif(hour === 12) return (hour).toString() + \":\" + minute + \" PM\";\n\t\t\treturn (hour-12).toString() + \":\" + minute + \" PM\";\n\t\t}\n\t\telse{\n\t\t\treturn (hour).toString() + \":\" + minute + \" AM\";\n\t\t}\n\t}\n\n\tfunction textAreaChange(event){\n\t\tevent.persist();\n\t\tsetSendComment(event.target.value);\n\t}\n\n\tuseEffect(() => {}, [showComments]);\n\tuseEffect(() => {}, [set1]);\n\tuseEffect(() => {}, [comments]);\n\n\treturn (\n\t\t<div>\n\t\t\t<div>{<>{callComments()}</>}</div>\n\t\t\t{props.posts.map(ele => (\n        <div className='dib shadow-5 post-card'>\n          <div>\n  \t\t\t\t\t<div className=\"image-user-post col-xs-1 col-sm-1 col-md-1 col-lg-1\">\n              <img className= \"user4\" src={ele.userImg} alt=\"img\"/>\n            </div>\n            <div className=\"col-xs-11 col-sm-11 col-md-11 col-lg-11\">\n              <p className=\"feed-username\">{ele.username}</p>\n              <p className=\"feed-date\">{ele.date.slice(0,5) + \" \" + convertDateTime(ele.date.slice(11,16))}</p>\n            </div>\n          </div>\n          <div>\n            <hr style={{marginTop:\"9.5%\"}} className=\"fancy-line-feed\"/>\n          </div>\n          <div style={ele.img===\"\" ? null : {minHeight:\"400px\"}}>\n            <div>\n              {ele.img===\"\" ? null: <img className=\"shadow-5 post-image\" src={ele.img} alt=\"img\"/>}\n            </div>\n            <div>\n              <p className=\"feed-text\">{ele.text}</p>\n            </div>\n          </div>\n          <div>\n            <hr style={{marginBottom:\"2.5%\"}} className=\"fancy-line-feed\"/>\n          </div>\n          <div>\n            {showComments[ele.username + ele.date] === \"off\" ?\n\t\t\t\t\t\t\t<div style={{paddingBottom:\"2%\"}} className=\"comment-heading tc\" onClick={() => fetchComments(ele.username, ele.date)}>\n\t\t\t\t\t\t\t\t<h3 style={{fontSize:\"1.3em\",display:\"inline\",margin:\"0\"}} className=\"tc dark-gray\">Comments</h3>\n\t\t\t\t\t\t\t\t<img style={{opacity:\"0.85\",marginTop:\"0%\", width:\"2%\", height:\"2%\", marginLeft:\"1%\",marginBottom:\"-0.4%\"}} src={downImg} alt=\"img\"/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t:\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<div style={{paddingBottom:\"2%\"}} className=\"comment-heading tc\" onClick={commentsOff2}>\n\t\t\t\t\t\t\t\t\t<h3 style={{fontSize:\"1.3em\",display:\"inline\",margin:\"0\"}} className=\"tc dark-gray\">Comments</h3>\n\t\t\t\t\t\t\t\t\t<img style={{opacity:\"0.85\",marginTop:\"0%\", width:\"2%\", height:\"2%\", marginLeft:\"1%\",marginBottom:\"-0.4%\"}} src={upImg} alt=\"img\"/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div style={{marginLeft:\"2%\",paddingTop:\"1%\", width:\"100%\"}} className='dib'>\n\t\t\t\t\t\t\t\t\t{props.hide === \"false\" ? <form action=\"javascript:void(0);\" onSubmit={() => storeComments(ele.username, ele.date)}>\n\t\t\t\t\t\t\t\t\t\t<div className=\"image-user-comment col-xs-1 col-sm-1 col-md-1 col-lg-1\"><img className= \"user4\" src={props.image} alt=\"img\"/></div>\n\t\t\t\t\t\t\t\t\t\t<div style={{paddingLeft:\"0\"}} className=\"col-xs-10 col-sm-10 col-md-10 col-lg-10\">\n\t\t\t\t\t\t\t\t\t\t\t<input type=\"text\" onChange={textAreaChange} className=\"comment-textarea\" name=\"Text1\" placeholder=\"Write a comment..\" value={sendComment}/>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<div className=\"col-xs-1 col-sm-1 col-md-1 col-lg-1\">\n\t\t\t\t\t\t\t\t\t\t\t<input className=\"sendImage-user-comment\" type=\"image\" src={sendImg}/>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</form>:null}\n\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t<div style={{marginBottom:\"2%\"}}>\n\t\t\t\t\t\t\t\t\t{comments.map(ele2 => (\n\t\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t\t<h2 className=\"comment-username\">{ele2.username}</h2>\n\t\t\t\t              <p className=\"comment-text\">{ele2.comment}</p>\n\t\t\t\t\t\t\t\t\t\t\t{ele2 !== comments[comments.length-1] ? <hr style={{marginBottom:\"1.2%\",marginTop:\"1.2%\"}} className=\"fancy-line-feed\"/> : null}\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t}\n          </div>\n\t\t\t  </div>))}\n\t\t</div>\n\t)\n}\n\nexport default Posts;\n"]},"metadata":{},"sourceType":"module"}