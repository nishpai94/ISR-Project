{"ast":null,"code":"import _regeneratorRuntime from\"/Users/nischitapai/Desktop/IR/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/nischitapai/Desktop/IR/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/nischitapai/Desktop/IR/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{Component,useState,useEffect}from'react';import'../App.css';import{Button}from'./Button';import{BrowserRouter as Router,Switch,Route}from'react-router-dom';import'./HeroSection.css';import ReactDOM from\"react-dom\";import Cards from'./Cards';import Testimonials from\"./testimonials\";import Features from\"../Login/src/components/about/features\";var cuisine_list=['African','Asian','Australian','Canadian','Chineese','European','French','Indian','Italian','Japanese','Korean','American','Mediterranean','Mexican','Eastern','Thai','USA'];var temp=JSON.parse(localStorage.getItem('recipe_list'))||[];function HeroSection(){var _useState=useState(temp),_useState2=_slicedToArray(_useState,2),recipes=_useState2[0],setRecipes=_useState2[1];var _useState3=useState(),_useState4=_slicedToArray(_useState3,2),uploadInput=_useState4[0],setUploadInput=_useState4[1];var _useState5=useState(0),_useState6=_slicedToArray(_useState5,2),currState=_useState6[0],setCurrState=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),cuisine=_useState8[0],setCuisine=_useState8[1];var _useState9=useState(false),_useState10=_slicedToArray(_useState9,2),isLoggedIn=_useState10[0],setIsLoggedIn=_useState10[1];var _useState11=useState(\"\"),_useState12=_slicedToArray(_useState11,2),userName=_useState12[0],setUserName=_useState12[1];var _useState13=useState(false),_useState14=_slicedToArray(_useState13,2),invalid=_useState14[0],setInvalid=_useState14[1];var _useState15=useState(false),_useState16=_slicedToArray(_useState15,2),isLoading=_useState16[0],setIsLoading=_useState16[1];var _useState17=useState(false),_useState18=_slicedToArray(_useState17,2),ingInvalidInput=_useState18[0],setIngInvalidInput=_useState18[1];var btn1=false;var btn2=false;var btn3=false;function hasNumber(myString){return /\\d/.test(myString);}function handleSubmit(_x){return _handleSubmit.apply(this,arguments);}function _handleSubmit(){_handleSubmit=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(event){var response,json,temp1,response2,json2;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(!(event.target[0].value.length===0||hasNumber(event.target[0].value))){_context.next=4;break;}setIngInvalidInput(true);_context.next=31;break;case 4:setIngInvalidInput(false);localStorage.setItem(\"recipe_list\",JSON.stringify([]));setIsLoading(true);setInvalid(false);event.persist();console.log(\"making request\");console.log(event.target[0].value);_context.next=13;return fetch('/ingredient',{method:\"POST\",headers:{'Content-type':'application/json'},body:JSON.stringify(event.target[0].value)});case 13:response=_context.sent;_context.next=16;return response.json();case 16:json=_context.sent;console.log(json);temp1=json[0];// localStorage.setItem(\"recipe_list\", JSON.stringify(json[0]));\n// setRecipes(temp1);\n_context.next=21;return fetch('/ingredient',{method:\"POST\",headers:{'Content-type':'application/json'},body:JSON.stringify(event.target[0].value)});case 21:response2=_context.sent;_context.next=24;return response2.json();case 24:json2=_context.sent;console.log(json2);temp1=temp1.concat(json2[0]);setRecipes(temp1);localStorage.setItem(\"recipe_list\",JSON.stringify(temp1));if(temp1.length===0){setInvalid(true);}setIsLoading(false);case 31:case\"end\":return _context.stop();}}},_callee);}));return _handleSubmit.apply(this,arguments);}var getBase64=function getBase64(file){return new Promise(function(resolve,reject){var reader=new FileReader();reader.onload=function(){return resolve(reader.result);};reader.onerror=function(error){return reject(error);};reader.readAsDataURL(file);});};function handleUploadImage(_x2){return _handleUploadImage.apply(this,arguments);}function _handleUploadImage(){_handleUploadImage=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(event){var data,file,response,json;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:if(ingInvalidInput===true){setIngInvalidInput(false);}localStorage.setItem(\"recipe_list\",JSON.stringify([]));setIsLoading(true);setInvalid(false);event.persist();// event.preventDefault();\ndata=new FormData();data.append('file',uploadInput.files[0]);file=uploadInput.files[0];getBase64(file).then(function(base64){localStorage[\"fileBase64\"]=base64;console.debug(\"file stored\",base64);console.log(\"file stored\",base64);});_context2.next=11;return fetch('/image',{method:'POST',body:data});case 11:response=_context2.sent;_context2.next=14;return response.json();case 14:json=_context2.sent;console.log(json);setRecipes(json[0]);localStorage.setItem(\"recipe_list\",JSON.stringify(json[0]));if(json[0].length===0){console.log(\"Invalid\");setInvalid(true);}setIsLoading(false);case 20:case\"end\":return _context2.stop();}}},_callee2);}));return _handleUploadImage.apply(this,arguments);}function handleChange(_x3){return _handleChange.apply(this,arguments);}function _handleChange(){_handleChange=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(event){var response,json;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:console.log(cuisine);if(!(cuisine===\"blank\"||cuisine===\"\")){_context3.next=4;break;}_context3.next=20;break;case 4:setIngInvalidInput(false);localStorage.setItem(\"recipe_list\",JSON.stringify([]));setIsLoading(true);event.persist();console.log(\"making request\");console.log(cuisine);_context3.next=12;return fetch('/cuisine',{method:\"POST\",headers:{'Content-type':'application/json'},body:JSON.stringify(cuisine)});case 12:response=_context3.sent;_context3.next=15;return response.json();case 15:json=_context3.sent;console.log(json);setRecipes(json[0]);localStorage.setItem(\"recipe_list\",JSON.stringify(json[0]));setIsLoading(false);case 20:case\"end\":return _context3.stop();}}},_callee3);}));return _handleChange.apply(this,arguments);}function onClickSearchbox(){if(currState==1){return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"form\",{action:\"javascript:void(0);\",onSubmit:handleSubmit,method:\"POST\"},/*#__PURE__*/React.createElement(\"input\",{className:\"hero-input\",type:\"text\",name:\"ingredients\",placeholder:\"Ingredients...\"}),/*#__PURE__*/React.createElement(\"button\",{className:\"hero-button\",type:\"submit\"},\" Submit \")));}if(currState==2){return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"form\",{action:\"javascript:void(0);\",onSubmit:handleUploadImage},/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"input\",{className:\"custom-file-input\",ref:function ref(_ref){setUploadInput(_ref);},type:\"file\",accept:\"image/*\",required:true}),/*#__PURE__*/React.createElement(\"button\",{className:\"hero-button2\"},\"Upload\"))));}if(currState==3){return/*#__PURE__*/React.createElement(\"form\",{onSubmit:handleChange,action:\"javascript:void(0);\",method:\"POST\"},/*#__PURE__*/React.createElement(\"select\",{className:\"select-class\",onChange:onCuisineChange,name:\"cars\",id:\"cars\",required:true},/*#__PURE__*/React.createElement(\"option\",{value:\"blank\",selected:\"selected\"},\"Choose a Cuisine\"),cuisine_list.map(function(ele){return/*#__PURE__*/React.createElement(\"option\",{value:ele},ele);})),/*#__PURE__*/React.createElement(\"input\",{className:\"hero-button3\",type:\"submit\",value:\"Submit\"}));}}function updateState(new_state){setInvalid(false);setIngInvalidInput(false);setCurrState(new_state);}function onCuisineChange(event){setCuisine(event.target.value);}useEffect(function(){},[recipes]);useEffect(function(){},[uploadInput]);useEffect(function(){},[currState]);useEffect(function(){},[cuisine]);useEffect(function(){},[isLoading]);useEffect(function(){},[invalid]);return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"hero-container\"},/*#__PURE__*/React.createElement(\"video\",{src:\"/videos/video.mp4\",autoPlay:true,loop:true,muted:true}),/*#__PURE__*/React.createElement(\"h1\",null,\"Your Ingredients\"),/*#__PURE__*/React.createElement(\"h1\",null,\"Our Recipes!\"),/*#__PURE__*/React.createElement(\"p\",null,\"How do you want to search?\"),/*#__PURE__*/React.createElement(\"div\",{className:\"hero-btns\"},/*#__PURE__*/React.createElement(Button,{className:\"btns\",buttonStyle:\"btn--outline\",buttonSize:\"btn--large\",onClick:function onClick(){return updateState(1);},isSelected:btn1},\"BY INGREDIENTS\"),/*#__PURE__*/React.createElement(Button,{className:\"btns\",buttonStyle:\"btn--outline\",buttonSize:\"btn--large\",onClick:function onClick(){return updateState(2);},isSelected:btn2},\"BY IMAGE\"),/*#__PURE__*/React.createElement(Button,{className:\"btns\",buttonStyle:\"btn--outline\",buttonSize:\"btn--large\",onClick:function onClick(){return updateState(3);},isSelected:btn3},\"BY CUISINE\")),/*#__PURE__*/React.createElement(\"div\",null,onClickSearchbox()),/*#__PURE__*/React.createElement(\"div\",null,isLoading===true?/*#__PURE__*/React.createElement(\"h1\",{style:{position:\"relative\",paddingTop:\"15%\",color:\"white\"},className:\"tc\"},\"Loading...\"):null),/*#__PURE__*/React.createElement(\"div\",null,ingInvalidInput===true?/*#__PURE__*/React.createElement(\"h1\",{style:{position:\"relative\",paddingTop:\"15%\",color:\"white\"},className:\"tc\"},\"Invalid Input!\"):null)),/*#__PURE__*/React.createElement(\"div\",null,invalid===true?/*#__PURE__*/React.createElement(\"h1\",{className:\"tc\"},\"No Recipes Found!\"):null),/*#__PURE__*/React.createElement(\"div\",null,recipes.length>0?/*#__PURE__*/React.createElement(\"div\",{className:\"center back-color\"},/*#__PURE__*/React.createElement(\"h1\",{className:\"testimonial-head\"},\"Recipes\"),/*#__PURE__*/React.createElement(\"hr\",{className:\"fancy-line\"})):null),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(Cards,{recipes:recipes})),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(Features,null)),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(Testimonials,null)));}export default HeroSection;","map":{"version":3,"sources":["/Users/nischitapai/Desktop/IR/src/components/HeroSection.js"],"names":["React","Component","useState","useEffect","Button","BrowserRouter","Router","Switch","Route","ReactDOM","Cards","Testimonials","Features","cuisine_list","temp","JSON","parse","localStorage","getItem","HeroSection","recipes","setRecipes","uploadInput","setUploadInput","currState","setCurrState","cuisine","setCuisine","isLoggedIn","setIsLoggedIn","userName","setUserName","invalid","setInvalid","isLoading","setIsLoading","ingInvalidInput","setIngInvalidInput","btn1","btn2","btn3","hasNumber","myString","test","handleSubmit","event","target","value","length","setItem","stringify","persist","console","log","fetch","method","headers","body","response","json","temp1","response2","json2","concat","getBase64","file","Promise","resolve","reject","reader","FileReader","onload","result","onerror","error","readAsDataURL","handleUploadImage","data","FormData","append","files","then","base64","debug","handleChange","onClickSearchbox","ref","onCuisineChange","map","ele","updateState","new_state","position","paddingTop","color"],"mappings":"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","sourcesContent":["import React, { Component,useState, useEffect } from 'react';\nimport '../App.css';\nimport { Button } from './Button';\nimport {BrowserRouter as Router, Switch, Route} from 'react-router-dom';\nimport './HeroSection.css';\nimport ReactDOM from \"react-dom\";\nimport Cards from './Cards';\nimport Testimonials from \"./testimonials\";\nimport Features from \"../Login/src/components/about/features\"\n\nvar cuisine_list = ['African', 'Asian', 'Australian', 'Canadian', 'Chineese', 'European', 'French', 'Indian', 'Italian', 'Japanese', 'Korean', 'American', 'Mediterranean', 'Mexican', 'Eastern', 'Thai', 'USA'];\nvar temp = JSON.parse(localStorage.getItem('recipe_list')) || [];\n\nfunction HeroSection()\n{\n     const [recipes, setRecipes] = useState(temp);\n     const [uploadInput, setUploadInput] = useState();\n     const [currState, setCurrState] = useState(0);\n     const [cuisine, setCuisine] = useState(\"\");\n     const [isLoggedIn, setIsLoggedIn] = useState(false);\n     const [userName, setUserName] = useState(\"\");\n     const [invalid, setInvalid] = useState(false);\n     const [isLoading, setIsLoading] = useState(false);\n     const [ingInvalidInput, setIngInvalidInput] = useState(false);\n\n\n     var btn1 = false;\n     var btn2 = false;\n     var btn3 = false;\n\n    function hasNumber(myString) {\n      return /\\d/.test(myString);\n    }\n\n\n\n     async function handleSubmit (event)\n     {\n        if(event.target[0].value.length === 0 || hasNumber(event.target[0].value)){\n            setIngInvalidInput(true);\n        }\n        else{\n            setIngInvalidInput(false);\n\n\n        localStorage.setItem(\"recipe_list\", JSON.stringify([]));\n\n          setIsLoading(true);\n          setInvalid(false);\n          event.persist();\n          console.log(\"making request\");\n          console.log(event.target[0].value);\n\n          const response = await fetch('/ingredient', {\n           method: \"POST\",\n           headers: {\n             'Content-type': 'application/json'\n           },\n           body: JSON.stringify(event.target[0].value),\n          });\n\n          const json = await response.json();\n          console.log(json);\n\n          var temp1 = json[0];\n\n\n          // localStorage.setItem(\"recipe_list\", JSON.stringify(json[0]));\n          // setRecipes(temp1);\n\n          const response2 = await fetch('/ingredient', {\n           method: \"POST\",\n           headers: {\n             'Content-type': 'application/json'\n           },\n           body: JSON.stringify(event.target[0].value),\n          });\n\n          const json2 = await response2.json();\n          console.log(json2);\n\n\n          temp1 = temp1.concat(json2[0]);\n          setRecipes(temp1);\n\n          localStorage.setItem(\"recipe_list\", JSON.stringify(temp1));\n\n          if(temp1.length === 0){\n            setInvalid(true);\n          }\n          setIsLoading(false);\n      }\n     }\n\n     const getBase64 = (file) => {\n      return new Promise((resolve,reject) => {\n         const reader = new FileReader();\n         reader.onload = () => resolve(reader.result);\n         reader.onerror = error => reject(error);\n         reader.readAsDataURL(file);\n      });\n    }\n\n     async function handleUploadImage(event)\n     {\n       if(ingInvalidInput === true){\n        setIngInvalidInput(false);\n      }\n        localStorage.setItem(\"recipe_list\", JSON.stringify([]));\n          setIsLoading(true);\n          setInvalid(false);\n          event.persist();\n          // event.preventDefault();\n\n          const data = new FormData();\n          data.append('file', uploadInput.files[0]);\n\n          const file = uploadInput.files[0];\n          getBase64(file).then(base64 => {\n            localStorage[\"fileBase64\"] = base64;\n            console.debug(\"file stored\",base64);\n            console.log(\"file stored\",base64);\n          });\n\n          const response = await fetch('/image', {\n               method: 'POST',\n               body: data,\n          });\n\n          const json = await response.json();\n          console.log(json);\n          setRecipes(json[0]);\n          localStorage.setItem(\"recipe_list\", JSON.stringify(json[0]));\n\n          if(json[0].length === 0){\n            console.log(\"Invalid\")\n            setInvalid(true);\n          }\n          setIsLoading(false);\n     }\n\n     async function handleChange (event)\n     {\n       console.log(cuisine);\n       if(cuisine === \"blank\" || cuisine === \"\"){\n       }\n       else{\n        setIngInvalidInput(false);\n        localStorage.setItem(\"recipe_list\", JSON.stringify([]));\n          setIsLoading(true);\n          event.persist();\n          console.log(\"making request\");\n          console.log(cuisine);\n          const response = await fetch('/cuisine', {\n           method: \"POST\",\n           headers: {\n             'Content-type': 'application/json'\n           },\n           body: JSON.stringify(cuisine),\n          });\n\n          const json = await response.json();\n          console.log(json);\n          setRecipes(json[0]);\n          localStorage.setItem(\"recipe_list\", JSON.stringify(json[0]));\n          setIsLoading(false);\n        }\n     }\n\n     function onClickSearchbox()\n     {\n          if(currState==1)\n          {\n               return (\n                    <div>\n                         <form action=\"javascript:void(0);\" onSubmit={handleSubmit} method=\"POST\">\n                                <input className=\"hero-input\" type=\"text\" name=\"ingredients\" placeholder=\"Ingredients...\" />\n                                <button className=\"hero-button\" type=\"submit\"> Submit </button>\n                         </form>\n                    </div>\n               );\n          }\n\n          if(currState==2)\n          {\n\n               return (\n                    <div>\n                       <form action=\"javascript:void(0);\" onSubmit={handleUploadImage}>\n                            <div>\n                                 <input className=\"custom-file-input\" ref={(ref) => { setUploadInput(ref) }} type=\"file\" accept=\"image/*\" required/>\n                                 <button className=\"hero-button2\">Upload</button>\n                            </div>\n                       </form>\n                    </div>\n               );\n          }\n\n          if(currState==3)\n          {\n               return (\n                    <form onSubmit={handleChange} action=\"javascript:void(0);\" method=\"POST\">\n                              <select className='select-class' onChange={onCuisineChange} name=\"cars\" id=\"cars\" required>\n                                   <option value=\"blank\" selected=\"selected\">Choose a Cuisine</option>\n                                   {cuisine_list.map(ele => (\n                                        <option value={ele}>{ele}</option>\n                                   ))}\n                              </select>\n                         <input className=\"hero-button3\" type=\"submit\" value=\"Submit\"/>\n                    </form>\n               )\n          }\n     }\n\n     function updateState(new_state)\n     {\n          setInvalid(false);\n          setIngInvalidInput(false);\n          setCurrState(new_state);\n     }\n\n     function onCuisineChange(event) { setCuisine(event.target.value);}\n\n     useEffect(() => {}, [recipes]);\n     useEffect(() => {}, [uploadInput]);\n     useEffect(() => {}, [currState]);\n     useEffect(() => {}, [cuisine]);\n     useEffect(() => {}, [isLoading]);\n     useEffect(() => {}, [invalid]);\n\n     return (\n          <div>\n               <div className='hero-container'>\n                    <video src='/videos/video.mp4' autoPlay loop muted />\n\n                    <h1>Your Ingredients</h1>\n                    <h1>Our Recipes!</h1>\n\n                    <p>How do you want to search?</p>\n\n                    <div className='hero-btns'>\n                         <Button\n                         className='btns'\n                         buttonStyle='btn--outline'\n                         buttonSize='btn--large'\n                         onClick={() => updateState(1)}\n                         isSelected={btn1}\n                         >\n                         BY INGREDIENTS\n                         </Button>\n\n                         <Button\n                         className='btns'\n                         buttonStyle='btn--outline'\n                         buttonSize='btn--large'\n                         onClick={() => updateState(2)}\n                         isSelected={btn2}\n                         >\n                         BY IMAGE\n                         </Button>\n\n                         <Button\n                         className='btns'\n                         buttonStyle='btn--outline'\n                         buttonSize='btn--large'\n                         onClick={() => updateState(3)}\n                         isSelected={btn3}\n                         >\n                         BY CUISINE\n                         </Button>\n                    </div>\n\n                    <div>{onClickSearchbox()}</div>\n                    <div>\n                       {isLoading === true ? <h1 style={{position:\"relative\" ,paddingTop:\"15%\" ,color:\"white\"}} className=\"tc\">Loading...</h1>:null}\n                    </div>\n\n                    <div>\n                         {ingInvalidInput === true ? <h1 style={{position:\"relative\" ,paddingTop:\"15%\" ,color:\"white\"}} className=\"tc\">Invalid Input!</h1>:null}\n                    </div>\n                </div>\n\n                <div>\n                     {invalid === true ? <h1 className=\"tc\">No Recipes Found!</h1>:null}\n                </div>\n\n                <div>\n                    {recipes.length>0 ? (\n                     <div className=\"center back-color\">\n                      <h1 className=\"testimonial-head\">Recipes</h1>\n                      <hr className=\"fancy-line\"/>\n                    </div>) :null}\n                </div>\n\n                <div>\n                     <Cards recipes={recipes}/>\n                </div>\n\n                <div>\n                    <Features/>\n                </div>\n\n                <div>\n        \t\t\t<Testimonials />\n        \t\t</div>\n\n          </div>\n     );\n}\n\nexport default HeroSection;\n"]},"metadata":{},"sourceType":"module"}