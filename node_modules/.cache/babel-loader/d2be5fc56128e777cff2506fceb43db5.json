{"ast":null,"code":"import _regeneratorRuntime from\"/Users/nischitapai/Desktop/IR/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/nischitapai/Desktop/IR/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/nischitapai/Desktop/IR/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import loginImg from\"../../login.svg\";import Login from\"./login\";function Register(){var _useState=useState({auth:\"true\"}),_useState2=_slicedToArray(_useState,2),value=_useState2[0],setValue=_useState2[1];var _useState3=useState({auth:\"false\"}),_useState4=_slicedToArray(_useState3,2),success=_useState4[0],setSuccess=_useState4[1];var _useState5=useState(\"false\"),_useState6=_slicedToArray(_useState5,2),passwordWrong=_useState6[0],passwordWrongUpdate=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),password=_useState8[0],changePassword=_useState8[1];var json;function handleSubmit(_x){return _handleSubmit.apply(this,arguments);}function _handleSubmit(){_handleSubmit=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(event){var url,response;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(!(passwordWrong===\"true\")){_context.next=4;break;}console.log(\"Password Doesn't match!\");_context.next=15;break;case 4:url='/register';console.log(\"making request\");_context.next=8;return fetch('/register',{method:\"POST\",headers:{'Content-type':'application/json'},body:JSON.stringify({\"username\":event.target[0].value,\"email\":event.target[1].value,\"password\":event.target[2].value})});case 8:response=_context.sent;_context.next=11;return response.json();case 11:json=_context.sent;console.log(json);setValue(json);setSuccess(json);case 15:event.preventDefault();case 16:case\"end\":return _context.stop();}}},_callee);}));return _handleSubmit.apply(this,arguments);}function redirect(){if(success===\"true\")window.open(\"/sign_up\",\"_self\");}useEffect(function(){console.log(value);},[value]);function updateNewPassword(event){event.persist();changePassword(event.target.value);}function checkNewPassword(event){event.persist();if(event.target.value===password){passwordWrongUpdate(\"false\");}else{passwordWrongUpdate(\"true\");}}useEffect(function(){},[passwordWrong]);useEffect(function(){},[password]);return/*#__PURE__*/React.createElement(\"div\",{className:\"base-container4\"},/*#__PURE__*/React.createElement(\"div\",{className:\"header4\"},\"Register\"),/*#__PURE__*/React.createElement(\"form\",{onSubmit:handleSubmit,action:\"javascript:void(0);\",method:\"POST\"},/*#__PURE__*/React.createElement(\"div\",{className:\"content4\"},/*#__PURE__*/React.createElement(\"div\",{className:\"image4\"},/*#__PURE__*/React.createElement(\"img\",{src:loginImg,alt:\"img\"})),/*#__PURE__*/React.createElement(\"div\",{className:\"form4\"},/*#__PURE__*/React.createElement(\"div\",{className:\"form-group4\"},/*#__PURE__*/React.createElement(\"label\",{className:\"label4\",htmlFor:\"username\"},\"Username\"),/*#__PURE__*/React.createElement(\"input\",{className:\"input4\",type:\"text\",name:\"username\",placeholder:\"username\",required:true})),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group4\"},/*#__PURE__*/React.createElement(\"label\",{className:\"label4\",htmlFor:\"username\"},\"Email\"),/*#__PURE__*/React.createElement(\"input\",{className:\"input4\",type:\"email\",name:\"email\",placeholder:\"email\",required:true})),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group4\"},/*#__PURE__*/React.createElement(\"label\",{className:\"label4\",htmlFor:\"password\"},\"Password\"),/*#__PURE__*/React.createElement(\"input\",{onChange:updateNewPassword,className:\"input4\",type:\"password\",name:\"password\",placeholder:\"password\",required:true})),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group4\"},/*#__PURE__*/React.createElement(\"label\",{className:\"label4\",htmlFor:\"password\"},\"Confirm Password\"),/*#__PURE__*/React.createElement(\"input\",{onChange:checkNewPassword,className:\"input4\",type:\"password\",name:\"confirm-password\",placeholder:\"password\",required:true}))),/*#__PURE__*/React.createElement(\"div\",null,value.auth===\"false\"?/*#__PURE__*/React.createElement(\"p\",{style:{color:\"red\"}},\"This username or email isn't available\"):null),/*#__PURE__*/React.createElement(\"div\",null,success.auth===\"true\"?/*#__PURE__*/React.createElement(\"p\",{style:{color:\"green\"}},\"Registered successfully! Login into your profile.\"):null),/*#__PURE__*/React.createElement(\"div\",null,passwordWrong===\"true\"?/*#__PURE__*/React.createElement(\"p\",{style:{color:\"red\"}},\"Password doesn't match.\"):null),/*#__PURE__*/React.createElement(\"div\",null,password.length<6&&password.length>0?/*#__PURE__*/React.createElement(\"p\",{style:{color:\"red\"}},\"Password should be atleast 6 characters long.\"):null)),/*#__PURE__*/React.createElement(\"div\",{className:\"footer\"},/*#__PURE__*/React.createElement(\"button\",{className:\"btn\",type:\"submit\",onClick:redirect},\"Register\"))));}export default Register;","map":{"version":3,"sources":["/Users/nischitapai/Desktop/IR/src/Login/src/components/login/register.jsx"],"names":["React","useState","useEffect","Login","Register","auth","value","setValue","success","setSuccess","passwordWrong","passwordWrongUpdate","password","changePassword","json","handleSubmit","event","console","log","url","fetch","method","headers","body","JSON","stringify","target","response","preventDefault","redirect","window","open","updateNewPassword","persist","checkNewPassword","loginImg","color","length"],"mappings":"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","sourcesContent":["import React, {useState, useEffect} from \"react\";\nimport loginImg from \"../../login.svg\";\nimport Login from \"./login\"\n\nfunction Register() {\n\n  const [value, setValue] = useState({auth:\"true\"});\n  const [success, setSuccess] = useState({auth:\"false\"});\n  const [passwordWrong, passwordWrongUpdate] = useState(\"false\");\n  const [password, changePassword] = useState(\"\");\n\n\tvar json;\n\tasync function handleSubmit(event) {\n\n    if(passwordWrong === \"true\"){\n      console.log(\"Password Doesn't match!\")\n    }\n    else{\n\n  \t\tconst url = '/register'\n\n  \t\tconsole.log(\"making request\")\n\n  \t\tconst response = await fetch('/register', {\n  \t\t  method: \"POST\",\n  \t\t  headers: {\n  \t\t    'Content-type': 'application/json'\n  \t\t  },\n  \t\t  body: JSON.stringify({ \"username\": event.target[0].value,\"email\": event.target[1].value ,\"password\": event.target[2].value }),\n  \t\t});\n      json = await response.json();\n  \t\tconsole.log(json);\n\n  \t\tsetValue(json);\n      setSuccess(json);\n    }\n\n\t\tevent.preventDefault();\n\t}\n\n  function redirect() {\n    if(success===\"true\") window.open(\"/sign_up\",\"_self\");\n  }\n\n\tuseEffect(() => {\n\t\tconsole.log(value);\n\t},[value])\n\n\n  function updateNewPassword(event){\n    event.persist()\n    changePassword(event.target.value);\n  }\n\n  function checkNewPassword(event){\n    event.persist()\n    if(event.target.value === password){\n      passwordWrongUpdate(\"false\");\n    }\n    else{\n      passwordWrongUpdate(\"true\");\n    }\n  }\n\n  useEffect(() => {},[passwordWrong]);\n  useEffect(() => {},[password]);\n\n  return (\n    <div className=\"base-container4\">\n    <div className=\"header4\">Register</div>\n    <form onSubmit={handleSubmit} action=\"javascript:void(0);\" method=\"POST\">\n      <div className=\"content4\">\n        <div className=\"image4\">\n          <img src={loginImg} alt=\"img\" />\n        </div>\n        <div className=\"form4\">\n          <div className=\"form-group4\">\n            <label className=\"label4\" htmlFor=\"username\">Username</label>\n            <input className=\"input4\" type=\"text\" name=\"username\" placeholder=\"username\" required/>\n          </div>\n          <div className=\"form-group4\">\n            <label className=\"label4\" htmlFor=\"username\">Email</label>\n            <input className=\"input4\" type=\"email\" name=\"email\" placeholder=\"email\" required/>\n          </div>\n          <div className=\"form-group4\">\n            <label className=\"label4\" htmlFor=\"password\">Password</label>\n            <input onChange={updateNewPassword} className=\"input4\" type=\"password\" name=\"password\" placeholder=\"password\" required/>\n          </div>\n          <div className=\"form-group4\">\n            <label className=\"label4\" htmlFor=\"password\">Confirm Password</label>\n            <input onChange={checkNewPassword} className=\"input4\" type=\"password\" name=\"confirm-password\" placeholder=\"password\" required/>\n          </div>\n        </div>\n        <div>\n  \t\t\t\t{value.auth === \"false\" ? <p style={{color:\"red\"}}>This username or email isn't available</p> :null}\n  \t\t\t</div>\n        <div>\n  \t\t\t\t{success.auth === \"true\" ? <p style={{color:\"green\"}}>Registered successfully! Login into your profile.</p> :null}\n  \t\t\t</div>\n        <div>\n  \t\t\t\t{passwordWrong === \"true\" ? <p style={{color:\"red\"}}>Password doesn't match.</p> :null}\n  \t\t\t</div>\n        <div>\n  \t\t\t\t{password.length <6 && password.length>0 ? <p style={{color:\"red\"}}>Password should be atleast 6 characters long.</p> :null}\n  \t\t\t</div>\n      </div>\n      <div className=\"footer\">\n        <button className=\"btn\" type=\"submit\" onClick={redirect}>Register</button>\n        {/*<button type=\"button\" className=\"btn\">\n          Register\n        </button>*/}\n      </div>\n\n      </form>\n    </div>\n  );\n}\n\nexport default Register;\n"]},"metadata":{},"sourceType":"module"}